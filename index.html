<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Current URL to H2 Tag</title>
</head>
<body>

    <h2 id="urlContainer" style="font-family: cursive;"></h2>

    <script>

    // Function to get URL parameters by name
    function getUrlCodeParameter(name) {
        name = name.replace(/[[]/, '\\[').replace(/[\]]/, '\\]');
        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        var results = regex.exec(location.search);
        return results === null ? '' : encodeURIComponent(results[1].replace(/\+/g, ' '));
    }

    // Check if the "code" parameter is present in the URL
    var code = getUrlParameter('code');
    var expiry = getUrlParameter('expires_in');
    // Find the H2 element by its ID
    var h2Element = document.getElementById('urlContainer');

    if (code !== '') {
        // Redirect to localhost with the "code" parameter
        const url = "You Are Being Redirected...";
        h2Element.textContent = url;
        // Set the text content of the H2 element to the current URL
        window.location.href = 'http://localhost:5173/' + code + '/' + expiry;
    }else{
     // Redirect to localhost with the "code" parameter
     const url = "Invalid Link!";
     h2Element.textContent = url;
    }


    </script>

</body>
</html>
